

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contributing to HADDOCK3 &mdash; haddock3 3.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d10597a4" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=acc74ff5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Citing" href="citing.html" />
    <link rel="prev" title="Running integration tests manually" href="testing/integration_tests.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            haddock3
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">A brief introduction to HADDOCK3</a></li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="USAGE.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Workflow Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Advanced features</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules/index.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing/index.html">Testing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing to HADDOCK3</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#contributing-new-code">1. Contributing new code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#contributing-with-code-additional-details">1.1 Contributing with code (additional details)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#contributing-with-tests-additional-details">1.2 Contributing with tests (additional details)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">1.3 Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-style">1.4 Code style</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-structure">1.5 Code structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-new-module">1.6 Creating a new module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#contributing-with-documentation">2. Contributing with documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference/index.html">Library Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">haddock3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Contributing to HADDOCK3</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/contributing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contributing-to-haddock3">
<h1>Contributing to HADDOCK3<a class="headerlink" href="#contributing-to-haddock3" title="Link to this heading"></a></h1>
<p>Welcome, we made many efforts to facilitate your contribution to this
fantastic project. There are several ways to contribute:</p>
<ul class="simple">
<li><p>you can improve tutorials and/or documentation</p></li>
<li><p>improve the code itself (maybe you even found some bug :bug:?)</p></li>
<li><p>improve error messages so they become clearer</p></li>
<li><p>add a new simulation module altogether</p></li>
<li><p>write more unittests (we dare you to do that :godmode:)</p></li>
</ul>
<p>Before attempting any development, please install HADDOCK3 following the
instructions in the <a class="reference internal" href="#docs/INSTALL.md"><span class="xref myst">INSTALL</span></a> file. Afterwards, follow the
instructions in this file.</p>
<section id="contributing-new-code">
<h2>1. Contributing new code<a class="headerlink" href="#contributing-new-code" title="Link to this heading"></a></h2>
<p>HADDOCK3 has two main testing workflows. Here, within the repository, we
test the HADDOCK3’s Python shell, code style, and package building.  Our
Continuous Integration (CI) pipeline is based on
<a class="reference external" href="https://tox.wiki/en/latest/index.html" title="tox">tox</a> and GitHub Actions. We will
explain you how to use them.</p>
<p>To contribute to the HADDOCK3’s Python shell, follow these steps:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://docs.github.com/en/get-started/quickstart/fork-a-repo">Fork</a> the HADDOCK3 repository</p></li>
<li><p>Create a new branch in your fork (<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">&lt;new_branch_name&gt;</span></code>)</p></li>
<li><p>Develop your code and tests:</p>
<ol class="arabic simple">
<li><p>HADDOCK3 source is in <code class="docutils literal notranslate"><span class="pre">src/haddock</span></code>. Always implement code in
the lowest Python version supported (this case is 3.9).</p></li>
<li><p>Tests sit in the <code class="docutils literal notranslate"><span class="pre">tests/</span></code> folder. Use
<a class="reference external" href="https://docs.pytest.org/en/6.2.x/">pytest</a> for testing.</p></li>
<li><p>See more details on how to contribute with code and tests in the
subheadings below.</p></li>
</ol>
</li>
<li><p>While you are developing (or when you think you have finished), you can
(should) use our <code class="docutils literal notranslate"><span class="pre">tox</span></code> environments to test your code. Use the
following commands from the main repository folder:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">test</span></code> runs tests in current python version. If you tox
to report test names and status for every single test (high verbosity) use
<code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">test</span> <span class="pre">--</span> <span class="pre">-vv</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">lint</span></code> shows you errors in the code style.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">build</span></code> simulates building the HADDOCK3 package.</p></li>
<li><p>Run the above altogether with the simple <code class="docutils literal notranslate"><span class="pre">tox</span></code> command</p></li>
<li><p>If you want to submit high-quality code, you may wish to run
<code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">radon</span></code> to assess your code cyclomatic complexity.</p></li>
</ol>
</li>
<li><p>You can work on these <code class="docutils literal notranslate"><span class="pre">tox</span></code> tests until they all pass green before
submitting your PR.</p></li>
<li><p>Check if your contribution fulfills the requeriments proposed in the
PR template, these are based on the experience of some developers to ensure the long-term
survival of the codebase. Suggestions are always welcomed.</p></li>
<li><p>We also have an <code class="docutils literal notranslate"><span class="pre">examples</span></code> folder with test cases that you can run
(should) to ensure the integrity of the python shell as a whole:</p>
<ol class="arabic simple">
<li><p>Navigate to any of the examples folder and run the <code class="docutils literal notranslate"><span class="pre">-test.cfg</span></code>
file (see <a class="reference internal" href="USAGE.html"><span class="std std-doc">USAGE</span></a>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*-test.cfg</span></code> runs are meant for testing purposes only. The
<code class="docutils literal notranslate"><span class="pre">examples/</span></code> folder also contain <code class="docutils literal notranslate"><span class="pre">*-full.cfg</span></code> files for production runs.
You don’t need to run these for testin.</p></li>
<li><p>If you have a powerful computer and want to run all tests in a
row, navigate to the <code class="docutils literal notranslate"><span class="pre">examples</span></code> folder and run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">run_tests.py</span> <span class="pre">-b</span></code>. The <code class="docutils literal notranslate"><span class="pre">-b</span></code> flag ensures the run will stop asap an error is found.</p></li>
<li><p>if your computer is not powerful enough, you can ask us to run
those tests once you submitted the pull request.</p></li>
<li><p>For example, the <code class="docutils literal notranslate"><span class="pre">docking-protein-protein-test.cfg</span></code> run in less
than 3 minutes on a <code class="docutils literal notranslate"><span class="pre">Intel(R)</span> <span class="pre">Core(TM)</span> <span class="pre">i7-8550U</span> <span class="pre">CPU</span> <span class="pre">&#64;</span> <span class="pre">1.80GHz</span></code> laptop
using 7 cores. All <code class="docutils literal notranslate"><span class="pre">-test.cfg</span></code> together take about 45 minutes.</p></li>
</ol>
</li>
<li><p>Add a list of your new additions to the <code class="docutils literal notranslate"><span class="pre">CHANGELOG.md</span></code> file by
adding a new sub-header as described bellow. This is mandatory for <code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">build</span></code> to pass. Note this applies only after we have released the
stable <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code> version.</p></li>
</ol>
<div class="highlight-markdown notranslate"><div class="highlight"><pre><span></span><span class="gh"># Changelog</span>

<span class="gu">## new_version</span>

<span class="k">*</span><span class="w"> </span>your change one
<span class="k">*</span><span class="w"> </span>your change two

(... the rest of the file ...)
</pre></div>
</div>
<ol class="arabic simple" start="8">
<li><p>If you have difficulties with <code class="docutils literal notranslate"><span class="pre">tox</span></code>, let us know. These <code class="docutils literal notranslate"><span class="pre">tox</span></code> tests
are the same that run on the GitHub Actions once you send the PR. So,
sending the PR is another way to ensure all tests pass.</p></li>
<li><p>Submit your PR if you haven’t done so yet :wink:</p>
<ol class="arabic simple">
<li><p>GitHub allows submitting “Draft PRs”. You can use this
option to let us know you are working on some new good stuff so we
can help you from the beginning.</p></li>
</ol>
</li>
</ol>
<section id="contributing-with-code-additional-details">
<h3>1.1 Contributing with code (additional details)<a class="headerlink" href="#contributing-with-code-additional-details" title="Link to this heading"></a></h3>
<p><strong>You should also know that…</strong> HADDOCK3 folders, files, and code
follow a well defined structure with very specific patterns. Inside each
source folder you will (likely) find a <code class="docutils literal notranslate"><span class="pre">README</span></code> file describing the
structure of the folder and presenting guidelines on how to better
contribute to that folder and respective files. Summarizing here:</p>
<ul class="simple">
<li><p>New command-line clients go in the <code class="docutils literal notranslate"><span class="pre">clis/</span></code> folder. See how the current
clients here created and use that as a template. Remember to update also the
<code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file.</p></li>
<li><p>Add any new functions that you foresee are general and
could serve different places in the code to the <code class="docutils literal notranslate"><span class="pre">libs/</span></code> folder. Find a
<code class="docutils literal notranslate"><span class="pre">lib*.py</span></code> files that would serve your purpuses, otherwise create a new
one.</p></li>
<li><p>Any plug-in like functionality, for example <em>“check if input is
correct”</em>, should go into its own python module inside the <code class="docutils literal notranslate"><span class="pre">gear/</span></code>
folder. Any variables, functions, and classes related only to that
implementation should go all inside the same module (Python file).</p></li>
<li><p>Any general hard definitions, or physical constants, should go in the
<code class="docutils literal notranslate"><span class="pre">core/</span></code> folder.</p></li>
<li><p>If you want to implement a new HADDOCK3 module, navigate to the
<code class="docutils literal notranslate"><span class="pre">modules/</span></code> folder and follow the instructions in the <code class="docutils literal notranslate"><span class="pre">README</span></code> file
there. You will see that all folders and files follow a pattern.</p></li>
<li><p>Talk with us before developing any CNS related part.</p></li>
</ul>
</section>
<section id="contributing-with-tests-additional-details">
<h3>1.2 Contributing with tests (additional details)<a class="headerlink" href="#contributing-with-tests-additional-details" title="Link to this heading"></a></h3>
<p>Inside the <code class="docutils literal notranslate"><span class="pre">tests/</span></code> folder you will find several <code class="docutils literal notranslate"><span class="pre">test_*.py</span></code> files.
Normally, each file has the tests for each <code class="docutils literal notranslate"><span class="pre">*.py</span></code> file in the source. If
you create new <code class="docutils literal notranslate"><span class="pre">*.py</span></code> files you should create a new test file of the
same name, <code class="docutils literal notranslate"><span class="pre">test_new_file_name.py</span></code>. Aim at 100% test coverage for the
code you have created. Write tests according to <a class="reference external" href="https://docs.pytest.org/" title="pytest">pytest</a>. You
can see examples in our <code class="docutils literal notranslate"><span class="pre">test_*.py</span></code> files. You can run the tests using
the <code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">test</span></code> commands explained above. Or, if you want to run the
tests for a singly file use <code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">test</span> <span class="pre">--</span> <span class="pre">tests/test_myfile.py</span></code>.</p>
</section>
<section id="dependencies">
<h3>1.3 Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading"></a></h3>
<p>HADDOCK3 is highly interconnected with other projects. Many of them use
HADDOCK3 core functionalities. Therefore, we aim to keep HADDOCK3 with
the lowest dependency footprint possible. Avoid adding dependencies when
developing new functionalities. How?</p>
<ol class="arabic simple">
<li><p>Use the Python standard library as much as possible.</p></li>
<li><p>Numpy is always allowed.</p></li>
<li><p>If you need to implement heavy calculations, it is best you use
<a class="reference external" href="https://numba.pydata.org/" title="Numba">Numba</a> instead of C libraries. Talk with us before.</p></li>
<li><p>You need a small function from a large library. Try to reimplement it
yourself with the Python standard library.</p>
<ol class="arabic simple">
<li><p>If you can’t, talk first with
us by opening an issue.</p></li>
</ol>
</li>
<li><p>You need a big and complex function or maybe a whole python file from
another project. If licenses are compatible, copy their code to the
HADDOCK3 repository writing all necessary headers to grant authorship
and comply with license requirements.</p>
<ol class="arabic simple">
<li><p>If licenses aren’t compatible, talk is us. We may have an
alternative.</p></li>
</ol>
</li>
<li><p>Your new module largely depends on a library and reimplementing or
copying is not an option. Then, consider if we can use that dependency
as a <strong>runtime dependency</strong> (like <code class="docutils literal notranslate"><span class="pre">gdock</span></code> or <code class="docutils literal notranslate"><span class="pre">lightdock</span></code>) instead of an
installation dependency.</p></li>
<li><p>Nothing of the above is possible. You <strong>really</strong> need an <em>install
dependency</em>. Talk with us before.</p></li>
</ol>
</section>
<section id="code-style">
<h3>1.4 Code style<a class="headerlink" href="#code-style" title="Link to this heading"></a></h3>
<p>HADDOCK3 follows nice code style rules. These are <em>almost</em> hard rules,
but there is some room for exceptions - common sense prevails. When
developing code, run <code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">lint</span></code> to inspect if your code follows our
conventions. We use <a class="reference external" href="https://flake8.pycqa.org/en/latest/" title="flake8">flake8</a> with the <a class="reference external" href="https://github.com/haddocking/haddock3/blob/b44304f0a1509d44d9689d7e2e4124f0ae3af0a1/tox.ini#L116-L130">following rules</a> and
docstrings follow <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">numpydoc</a> style. You can hold on our code
for style. Nevertheless, here’s a dummy code snippet for your reference.
Line have a soft max of 80 chars.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;Module&#39;s docstring.&quot;&quot;&quot;</span>
<span class="c1"># any comments. You can add here licensing stuff</span>
<span class="c1"># first import standard library</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">path</span> <span class="kn">import</span> <span class="n">Pathlib</span>

<span class="c1"># import third library</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># import from haddock3</span>
<span class="kn">from</span> <span class="nn">haddock</span> <span class="kn">import</span> <span class="n">log</span>
<span class="c1"># multiline import</span>
<span class="kn">from</span> <span class="nn">haddock.libs.libio</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">lib1</span><span class="p">,</span>
    <span class="n">lib2</span><span class="p">,</span>
    <span class="n">lib3</span><span class="p">,</span>
    <span class="n">lib4</span><span class="p">,</span>
    <span class="p">)</span>


<span class="c1"># all this are possible</span>
<span class="n">GLOBAL_VARIBLE</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">_hidden_global_variable</span> <span class="o">=</span> <span class="kc">None</span>

<span class="n">avoid_lower_case_globals</span> <span class="o">=</span> <span class="kc">None</span>


<span class="k">def</span> <span class="nf">my_nice_func</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">,</span> <span class="n">arg3</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docstring here.&quot;&quot;&quot;</span>
    <span class="c1"># do stuf</span>

<span class="c1"># if the function has many arguments, separate them by new lines.</span>
<span class="c1"># mind the identations</span>
<span class="k">def</span> <span class="nf">my_nice_func_with_big_name</span><span class="p">(</span>
        <span class="n">var1</span><span class="p">,</span>
        <span class="n">var2</span><span class="p">,</span>
        <span class="n">var3</span><span class="p">,</span>
        <span class="n">named_var1</span><span class="o">=</span><span class="s2">&quot;something&quot;</span><span class="p">,</span>
        <span class="n">named_var2</span><span class="o">=</span><span class="s2">&quot;else&quot;</span><span class="p">,</span>
        <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
        <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Docstring here.&quot;&quot;&quot;</span>
    <span class="c1"># do stuff</span>
    <span class="k">return</span>


<span class="n">multiline_list</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">var1</span><span class="p">,</span>
    <span class="n">var2</span><span class="p">,</span>
    <span class="n">var3</span><span class="p">,</span>
    <span class="n">var4</span><span class="p">,</span>
    <span class="p">]</span>

<span class="n">multiline_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;key1&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;key2&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;key3&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;key4&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
    <span class="s2">&quot;key5&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="p">}</span>

<span class="c1"># separate comprehensions by sections if line don&#39;t fit 80 chars</span>
<span class="c1"># same for dictionaries</span>
<span class="n">cool_list_comprehension</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">dome_some_long_stuff</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">some_iterable</span>
    <span class="k">if</span> <span class="n">validate</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="p">]</span>

<span class="n">double_quotes_allowed</span> <span class="o">=</span> <span class="s2">&quot;string&quot;</span>
<span class="n">single_quotes_allowed</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span>
<span class="c1"># don&#39;t try to homogenize quotes all around the code, respect the</span>
<span class="c1"># original input.</span>

<span class="c1"># define first use later</span>
<span class="n">generator_with_a_large_name</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span>
    <span class="n">iter1</span><span class="p">,</span>
    <span class="n">iter2</span><span class="p">,</span>
    <span class="n">iter3</span><span class="p">,</span>
    <span class="n">iter4</span><span class="p">,</span>
    <span class="n">iter5</span><span class="p">,</span>
    <span class="p">)</span>

<span class="k">for</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">,</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">generator_with_a_large_name</span><span class="p">:</span>
    <span class="c1"># do stuff</span>

<span class="c1"># use noqa: E501 for slightly long lines, in case splitting into</span>
<span class="c1"># multiple lines reduces readability</span>
<span class="n">this_is_a_long_line</span> <span class="o">=</span> <span class="n">that_makes_no_much_sense</span><span class="p">(</span><span class="n">to_separate</span><span class="p">,</span> <span class="n">in_multiple_lines</span><span class="p">,</span> <span class="n">abcd</span><span class="p">)</span>  <span class="c1"># noqa: E501</span>
</pre></div>
</div>
</section>
<section id="code-structure">
<h3>1.5 Code structure<a class="headerlink" href="#code-structure" title="Link to this heading"></a></h3>
<p>Write code in the form of small functions, because small functions are
easier to test. Combine small functions to compose larger functions. If
you need to use a global variable in a function, pass it as a default
value of a parameter. Avoid using complex classes, or avoid using
classes at all, unless you need to maintain a state or you really know
what you are doing. Flat is better than nested (though it’s harder to
write, but it’s easier to maintain and read). Use long variable names if
needed. Write comments that explain why you do stuff, and not how you do
stuff. Use the <code class="docutils literal notranslate"><span class="pre">TODO:</span></code> flag in your comments to note something for the
future. If needed, raise an issue.</p>
</section>
<section id="creating-a-new-module">
<h3>1.6 Creating a new module<a class="headerlink" href="#creating-a-new-module" title="Link to this heading"></a></h3>
<p>To develop a new HADDOCK3 module follow our guidelines and templates
under <code class="docutils literal notranslate"><span class="pre">src/haddock/modules/_template_cat/_template_mod/</span></code>.</p>
</section>
</section>
<section id="contributing-with-documentation">
<h2>2. Contributing with documentation<a class="headerlink" href="#contributing-with-documentation" title="Link to this heading"></a></h2>
<p>You may contribute to HADDOCK3 documentation by improving parts where
documentation is lacking or writing the documentation for the new code
you propose. HADDOCK3 documentation is hosted online at
https://bonvinlab.org/haddock3.</p>
<p>HADDOCK3 documentation is rendered with
<a class="reference external" href="https://www.sphinx-doc.org/en/master/">Sphinx</a> combining markdown
files, restructured text files, and extracting the docstrings in the
source code.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">docs/</span></code> folder contains all the files used by Sphinx to compile the
documentation to HTML files. To incorporate new documentation pages or
update the existing ones, navigate around the <code class="docutils literal notranslate"><span class="pre">docs/</span></code> folder to learn
how we have structured it and add/edit the files you find relevant. You
will see that the structure of folders and files follows the design of
the documentation website.</p>
<p>You can render the documentation locally to inspect the end result
before creating a pull request. To compile the documentation locally:
activate the <code class="docutils literal notranslate"><span class="pre">haddock3</span></code> python environment inside the haddock3 github
folder, run <code class="docutils literal notranslate"><span class="pre">tox</span> <span class="pre">-e</span> <span class="pre">docs</span></code> and then use your favourite browser to open the
<code class="docutils literal notranslate"><span class="pre">haddock3-docs/index.html</span></code> file. We invite you to read through Sphinx-doc
webpage if you want to exploit any advanced feature of Sphinx, but we
already provide examples for virtually any use you may need.</p>
<p>If you need to install any additional library, talk to us first. The
documentation requirements are in the <code class="docutils literal notranslate"><span class="pre">devtools</span></code> folder.</p>
<p>Finally, if you find the need to generate new pages during the HTML
compilation part, you may follow the <code class="docutils literal notranslate"><span class="pre">devtools/build_defaults_rst.py</span></code> as
an example. See also the <code class="docutils literal notranslate"><span class="pre">docs/conf.py</span></code> file <code class="docutils literal notranslate"><span class="pre">setup(app)</span></code> line.</p>
<p><strong>Troubleshooting:</strong></p>
<ol class="arabic simple">
<li><p>If you add any new dependency (import statement) in the code, you
need to add that library name to the <code class="docutils literal notranslate"><span class="pre">mock</span></code> list in the <code class="docutils literal notranslate"><span class="pre">docs/conf.py</span></code>
file.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="testing/integration_tests.html" class="btn btn-neutral float-left" title="Running integration tests manually" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="citing.html" class="btn btn-neutral float-right" title="Citing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, BonvinLab.
      <span class="lastupdated">Last updated on Oct 28, 2024.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>