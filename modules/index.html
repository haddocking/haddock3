

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modules &mdash; haddock3 3.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=34bb78ad" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=acc74ff5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Topology Modules" href="topology/index.html" />
    <link rel="prev" title="haddock.clis.wrapper_haddock_restraints module" href="../clients/haddock.clis.wrapper_haddock_restraints.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            haddock3
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">A brief introduction to HADDOCK3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../USAGE.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Workflow Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Advanced features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clients/haddock.clis.html">Command-line interfaces</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="topology/index.html">Topology Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="sampling/index.html">Sampling Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="refinement/index.html">Model Refinement Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="scoring/index.html">Scoring Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="analysis/index.html">Analysis Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="extras/index.html">Extra Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-haddock.modules">Parent code for modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#haddock.modules.BaseHaddockModule"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.add_parent_to_paths"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.add_parent_to_paths()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.clean_output"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.clean_output()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.confirm_installation"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.confirm_installation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.export_io_models"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.export_io_models()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.finish_with_error"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.finish_with_error()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.last_step_folder"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.last_step_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.log"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.log()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.params"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.params</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.previous_path"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.previous_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.reset_params"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.reset_params()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.run"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.save_config"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.save_config()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.BaseHaddockModule.update_params"><code class="docutils literal notranslate"><span class="pre">BaseHaddockModule.update_params()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#haddock.modules.get_engine"><code class="docutils literal notranslate"><span class="pre">get_engine()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#haddock.modules.get_module_steps_folders"><code class="docutils literal notranslate"><span class="pre">get_module_steps_folders()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#haddock.modules.is_step_folder"><code class="docutils literal notranslate"><span class="pre">is_step_folder()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#haddock.modules.modules_category"><code class="docutils literal notranslate"><span class="pre">modules_category</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#haddock.modules.step_folder_regex"><code class="docutils literal notranslate"><span class="pre">step_folder_regex</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#haddock.modules.step_folder_regex_re"><code class="docutils literal notranslate"><span class="pre">step_folder_regex_re</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-haddock.modules.base_cns_module">Parent code for CNS modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.add_parent_to_paths"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.add_parent_to_paths()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.clean_output"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.clean_output()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.confirm_installation"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.confirm_installation()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.default_envvars"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.default_envvars()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.export_io_models"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.export_io_models()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.finish_with_error"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.finish_with_error()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.get_ambig_fnames"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.get_ambig_fnames()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.last_step_folder"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.last_step_folder()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.log"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.log()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.make_self_contained"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.make_self_contained()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.params"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.params</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.previous_path"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.previous_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.reset_params"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.reset_params()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.run"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.run()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.save_config"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.save_config()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.save_envvars"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.save_envvars()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#haddock.modules.base_cns_module.BaseCNSModule.update_params"><code class="docutils literal notranslate"><span class="pre">BaseCNSModule.update_params()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#general-default-parameters">General Default parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#easy">Easy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#batch-type">batch_type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clean">clean</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cns-exec">cns_exec</a></li>
<li class="toctree-l4"><a class="reference internal" href="#concat">concat</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debug">debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mode">mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ncores">ncores</a></li>
<li class="toctree-l4"><a class="reference internal" href="#offline">offline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#queue">queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="#queue-limit">queue_limit</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#expert">Expert</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#max-cpus">max_cpus</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#guru">Guru</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#self-contained">self_contained</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to HADDOCK3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Library Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">haddock3</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Modules</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="modules">
<h1>Modules<a class="headerlink" href="#modules" title="Link to this heading"></a></h1>
<p>HADDOCK3 allows users to compose modular simulation workflows. Workflows are
composed in <em>steps</em>, and each step is a HADDOCK3 module. There are modules for
<strong>sampling</strong>, <strong>refinement</strong>, <strong>analysis</strong>, etc.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="topology/index.html">Topology Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="topology/index.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="topology/index.html#module-haddock.modules.topology">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sampling/index.html">Sampling Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sampling/index.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="sampling/index.html#module-haddock.modules.sampling">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="refinement/index.html">Model Refinement Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="refinement/index.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="refinement/index.html#module-haddock.modules.refinement">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scoring/index.html">Scoring Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="scoring/index.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="scoring/index.html#module-haddock.modules.scoring">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analysis/index.html">Analysis Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="analysis/index.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="analysis/index.html#module-haddock.modules.analysis">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extras/index.html">Extra Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extras/index.html#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="extras/index.html#module-haddock.modules.extras">Module contents</a></li>
</ul>
</li>
</ul>
</div>
<section id="module-haddock.modules">
<span id="parent-code-for-modules"></span><h2>Parent code for modules<a class="headerlink" href="#module-haddock.modules" title="Link to this heading"></a></h2>
<p>HADDOCK3 modules.</p>
<dl class="py class">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">haddock.modules.</span></span><span class="sig-name descname"><span class="pre">BaseHaddockModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_fname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/abc.html#abc.ABC" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></a></p>
<p>HADDOCK3 module’s base class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.add_parent_to_paths">
<span class="sig-name descname"><span class="pre">add_parent_to_paths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.add_parent_to_paths"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.add_parent_to_paths" title="Link to this definition"></a></dt>
<dd><p>Add parent path to paths.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.clean_output">
<span class="sig-name descname"><span class="pre">clean_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.clean_output"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.clean_output" title="Link to this definition"></a></dt>
<dd><p>Clean module output folder.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../reference/gear/haddock.gear.clean_steps.html#haddock.gear.clean_steps.clean_output" title="haddock.gear.clean_steps.clean_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">haddock.gear.clean_steps.clean_output()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.confirm_installation">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">confirm_installation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.confirm_installation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.confirm_installation" title="Link to this definition"></a></dt>
<dd><p>Confirm the third-party software needed for the module is installed.</p>
<p>HADDOCK3’s own modules should just return.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.export_io_models">
<span class="sig-name descname"><span class="pre">export_io_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faulty_tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.export_io_models"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.export_io_models" title="Link to this definition"></a></dt>
<dd><p>Export input/output to the ModuleIO interface.</p>
<dl class="simple">
<dt>Modules that do not perform any operation on PDB files should have</dt><dd><p>input = output.</p>
</dd>
</dl>
<p>This function implements a common interface for all modules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>faulty_tolerance</strong> (<em>int, default 0</em>) – The percentage of missing output allowed. If 20 is given,
raises an error if 20% of the expected output is missing (not
saved to disk).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.finish_with_error">
<span class="sig-name descname"><span class="pre">finish_with_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><span class="pre">object</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Module</span> <span class="pre">has</span> <span class="pre">failed.'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.finish_with_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.finish_with_error" title="Link to this definition"></a></dt>
<dd><p>Finish with error message.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.last_step_folder">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">last_step_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folders</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.last_step_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.last_step_folder" title="Link to this definition"></a></dt>
<dd><p>Retrieve last step folder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'info'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.log" title="Link to this definition"></a></dt>
<dd><p>Log a message with a common header.</p>
<p>Currently the header is the [MODULE NAME] in square brackets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<em>str</em>) – The log message.</p></li>
<li><p><strong>level</strong> (<em>str</em>) – The level log: ‘debug’, ‘info’, …
Defaults to ‘info’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#haddock.modules.BaseHaddockModule.params" title="Link to this definition"></a></dt>
<dd><p>Configuration parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.previous_path">
<span class="sig-name descname"><span class="pre">previous_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.previous_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.previous_path" title="Link to this definition"></a></dt>
<dd><p>Give the path from the previous calculation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.reset_params">
<span class="sig-name descname"><span class="pre">reset_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.reset_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.reset_params" title="Link to this definition"></a></dt>
<dd><p>Reset parameters to the ones used to instantiate the class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.run" title="Link to this definition"></a></dt>
<dd><p>Execute the module.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.save_config">
<span class="sig-name descname"><span class="pre">save_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.save_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.save_config" title="Link to this definition"></a></dt>
<dd><p>Save current parameters to a HADDOCK3 config file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.BaseHaddockModule.update_params">
<span class="sig-name descname"><span class="pre">update_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update_from_cfg_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#BaseHaddockModule.update_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.BaseHaddockModule.update_params" title="Link to this definition"></a></dt>
<dd><p>Update the modules parameters.</p>
<p>Add/update to the current modules parameters the ones given in
the function call. If you want to enterily replace the modules
parameters to their default values use the <cite>reset_params()</cite>
method.</p>
<p>Update takes places recursively, that is, nested dictionaries
will be updated accordingly.</p>
<p>To update the current config with the parameters defined in an
HADDOCK3 configuration file use the <cite>update_from_cfg_file</cite>
parameter.</p>
<p>To update from a JSON file, first load the JSON into a
dictionary and unpack the dictionary to the function call.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">update_params</span><span class="p">(</span><span class="n">param1</span><span class="o">=</span><span class="n">value1</span><span class="p">,</span> <span class="n">param2</span><span class="o">=</span><span class="n">value2</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">update_params</span><span class="p">(</span><span class="o">**</span><span class="n">param_dict</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">update_params</span><span class="p">(</span><span class="n">update_from_cfg_file</span><span class="o">=</span><span class="n">path_to_file</span><span class="p">)</span>
</pre></div>
</div>
<p># if you wish to start from scratch
&gt;&gt;&gt; m.reset_params()
&gt;&gt;&gt; m.update_params(…)</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="haddock.modules.get_engine">
<span class="sig-prename descclassname"><span class="pre">haddock.modules.</span></span><span class="sig-name descname"><span class="pre">get_engine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">partial</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../reference/libs/haddock.libs.libhpc.html#haddock.libs.libhpc.HPCScheduler" title="haddock.libs.libhpc.HPCScheduler"><span class="pre">HPCScheduler</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../reference/libs/haddock.libs.libparallel.html#haddock.libs.libparallel.Scheduler" title="haddock.libs.libparallel.Scheduler"><span class="pre">Scheduler</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../reference/libs/haddock.libs.libmpi.html#haddock.libs.libmpi.MPIScheduler" title="haddock.libs.libmpi.MPIScheduler"><span class="pre">MPIScheduler</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/haddock/modules.html#get_engine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.get_engine" title="Link to this definition"></a></dt>
<dd><p>Create an engine to run the jobs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<em>str</em>) – The type of engine to create</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – A dictionary containing parameters for the engine.
<cite>get_engine</cite> will retrieve from <cite>params</cite> only those parameters
needed and ignore the others.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="haddock.modules.get_module_steps_folders">
<span class="sig-prename descclassname"><span class="pre">haddock.modules.</span></span><span class="sig-name descname"><span class="pre">get_module_steps_folders</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">modules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Container" title="(in Python v3.13)"><span class="pre">Container</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/haddock/modules.html#get_module_steps_folders"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.get_module_steps_folders" title="Link to this definition"></a></dt>
<dd><p>Return a sorted list of the step folders in a running directory.</p>
<p class="rubric">Example</p>
<p>Consider the folder structure:</p>
<dl class="simple">
<dt>run_dir/</dt><dd><p>0_topoaa/
1_rigidbody/
2_caprieval/
3_bad_module_name/
data/</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_module_steps_folders</span><span class="p">(</span><span class="s2">&quot;run_dir&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="s2">&quot;0_topoaa&quot;</span><span class="p">,</span> <span class="s2">&quot;1_rigidbody&quot;</span><span class="p">,</span> <span class="s2">&quot;2_caprieval&quot;</span><span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>folder</strong> (<em>str or Path</em>) – Path to the run directory, or to the folder containing the step
folders.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>list of str</em> – List containing strings with the names of the step folders.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="haddock.modules.is_step_folder">
<span class="sig-prename descclassname"><span class="pre">haddock.modules.</span></span><span class="sig-name descname"><span class="pre">is_step_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><span class="pre">bool</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules.html#is_step_folder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.is_step_folder" title="Link to this definition"></a></dt>
<dd><p>Assess whether a folder is a possible step folder.</p>
<p>The folder is considered a step folder if has a zero or positive
integer index followed by a name of a module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str or pathlib.Path</em>) – The path to the folder.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>bool</em> – Whether the folder is a step folder or not.</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="haddock.modules.modules_category">
<span class="sig-prename descclassname"><span class="pre">haddock.modules.</span></span><span class="sig-name descname"><span class="pre">modules_category</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'alascan':</span> <span class="pre">'analysis',</span> <span class="pre">'caprieval':</span> <span class="pre">'analysis',</span> <span class="pre">'clustfcc':</span> <span class="pre">'analysis',</span> <span class="pre">'clustrmsd':</span> <span class="pre">'analysis',</span> <span class="pre">'contactmap':</span> <span class="pre">'analysis',</span> <span class="pre">'emref':</span> <span class="pre">'refinement',</span> <span class="pre">'emscoring':</span> <span class="pre">'scoring',</span> <span class="pre">'exit':</span> <span class="pre">'extras',</span> <span class="pre">'filter':</span> <span class="pre">'analysis',</span> <span class="pre">'flexref':</span> <span class="pre">'refinement',</span> <span class="pre">'gdock':</span> <span class="pre">'sampling',</span> <span class="pre">'ilrmsdmatrix':</span> <span class="pre">'analysis',</span> <span class="pre">'lightdock':</span> <span class="pre">'sampling',</span> <span class="pre">'mdref':</span> <span class="pre">'refinement',</span> <span class="pre">'mdscoring':</span> <span class="pre">'scoring',</span> <span class="pre">'openmm':</span> <span class="pre">'refinement',</span> <span class="pre">'prodigyligand':</span> <span class="pre">'scoring',</span> <span class="pre">'prodigyprotein':</span> <span class="pre">'scoring',</span> <span class="pre">'rigidbody':</span> <span class="pre">'sampling',</span> <span class="pre">'rmsdmatrix':</span> <span class="pre">'analysis',</span> <span class="pre">'sasascore':</span> <span class="pre">'scoring',</span> <span class="pre">'seletop':</span> <span class="pre">'analysis',</span> <span class="pre">'seletopclusts':</span> <span class="pre">'analysis',</span> <span class="pre">'topoaa':</span> <span class="pre">'topology',</span> <span class="pre">'topocg':</span> <span class="pre">'topology'}</span></em><a class="headerlink" href="#haddock.modules.modules_category" title="Link to this definition"></a></dt>
<dd><p>Indexes each module in its specific category. Keys are Paths to the module,
values are their categories. Categories are the modules parent folders.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="haddock.modules.step_folder_regex">
<span class="sig-prename descclassname"><span class="pre">haddock.modules.</span></span><span class="sig-name descname"><span class="pre">step_folder_regex</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'([0-9]+_rigidbody|[0-9]+_lightdock|[0-9]+_gdock|[0-9]+_mdscoring|[0-9]+_sasascore|[0-9]+_prodigyprotein|[0-9]+_emscoring|[0-9]+_prodigyligand|[0-9]+_exit|[0-9]+_topoaa|[0-9]+_topocg|[0-9]+_openmm|[0-9]+_emref|[0-9]+_flexref|[0-9]+_mdref|[0-9]+_alascan|[0-9]+_clustfcc|[0-9]+_contactmap|[0-9]+_seletop|[0-9]+_rmsdmatrix|[0-9]+_caprieval|[0-9]+_clustrmsd|[0-9]+_seletopclusts|[0-9]+_ilrmsdmatrix|[0-9]+_filter)'</span></em><a class="headerlink" href="#haddock.modules.step_folder_regex" title="Link to this definition"></a></dt>
<dd><p>String for regular expression to match module folders in a run directory.</p>
<p>It will match folders with a numeric prefix followed by underscore (“_”)
followed by the name of a module.</p>
<p>Example: <a class="reference external" href="https://regex101.com/r/roHls9/1">https://regex101.com/r/roHls9/1</a></p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="haddock.modules.step_folder_regex_re">
<span class="sig-prename descclassname"><span class="pre">haddock.modules.</span></span><span class="sig-name descname"><span class="pre">step_folder_regex_re</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('([0-9]+_rigidbody|[0-9]+_lightdock|[0-9]+_gdock|[0-9]+_mdscoring|[0-9]+_sasascore|[0-9]+_prodigyprotein|[0-9]+_emscoring|[0-9]+_prodigyligand|[0-9]+_exit|[0-9]+_topoaa|[0-9]+_topocg|[0-9]+_openmm|[0-)</span></em><a class="headerlink" href="#haddock.modules.step_folder_regex_re" title="Link to this definition"></a></dt>
<dd><p>Compiled regular expression from <a class="reference internal" href="#haddock.modules.step_folder_regex" title="haddock.modules.step_folder_regex"><code class="xref py py-const docutils literal notranslate"><span class="pre">step_folder_regex</span></code></a>.</p>
<p>It will match folders with a numeric prefix followed by underscore (“_”)
followed by the name of a module.</p>
<p>Example: <a class="reference external" href="https://regex101.com/r/roHls9/1">https://regex101.com/r/roHls9/1</a></p>
</dd></dl>

</section>
<section id="module-haddock.modules.base_cns_module">
<span id="parent-code-for-cns-modules"></span><h2>Parent code for CNS modules<a class="headerlink" href="#module-haddock.modules.base_cns_module" title="Link to this heading"></a></h2>
<p>Functionalities related to CNS modules.</p>
<dl class="py class">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">haddock.modules.base_cns_module.</span></span><span class="sig-name descname"><span class="pre">BaseCNSModule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.13)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cns_script</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/haddock/modules/base_cns_module.html#BaseCNSModule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#haddock.modules.BaseHaddockModule" title="haddock.modules.BaseHaddockModule"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHaddockModule</span></code></a></p>
<p>Operation module for CNS.</p>
<p>Contains additional functionalities excusive for CNS modules.</p>
<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.add_parent_to_paths">
<span class="sig-name descname"><span class="pre">add_parent_to_paths</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.add_parent_to_paths" title="Link to this definition"></a></dt>
<dd><p>Add parent path to paths.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.clean_output">
<span class="sig-name descname"><span class="pre">clean_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.clean_output" title="Link to this definition"></a></dt>
<dd><p>Clean module output folder.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../reference/gear/haddock.gear.clean_steps.html#haddock.gear.clean_steps.clean_output" title="haddock.gear.clean_steps.clean_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">haddock.gear.clean_steps.clean_output()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.confirm_installation">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">confirm_installation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.confirm_installation" title="Link to this definition"></a></dt>
<dd><p>Confirm the third-party software needed for the module is installed.</p>
<p>HADDOCK3’s own modules should just return.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.default_envvars">
<span class="sig-name descname"><span class="pre">default_envvars</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/haddock/modules/base_cns_module.html#BaseCNSModule.default_envvars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.default_envvars" title="Link to this definition"></a></dt>
<dd><p>Return default env vars updated to <cite>envvars</cite> (if given).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.export_io_models">
<span class="sig-name descname"><span class="pre">export_io_models</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faulty_tolerance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.13)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.export_io_models" title="Link to this definition"></a></dt>
<dd><p>Export input/output to the ModuleIO interface.</p>
<dl class="simple">
<dt>Modules that do not perform any operation on PDB files should have</dt><dd><p>input = output.</p>
</dd>
</dl>
<p>This function implements a common interface for all modules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>faulty_tolerance</strong> (<em>int, default 0</em>) – The percentage of missing output allowed. If 20 is given,
raises an error if 20% of the expected output is missing (not
saved to disk).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.finish_with_error">
<span class="sig-name descname"><span class="pre">finish_with_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><span class="pre">object</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Module</span> <span class="pre">has</span> <span class="pre">failed.'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.finish_with_error" title="Link to this definition"></a></dt>
<dd><p>Finish with error message.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.get_ambig_fnames">
<span class="sig-name descname"><span class="pre">get_ambig_fnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prev_ambig_fnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules/base_cns_module.html#BaseCNSModule.get_ambig_fnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.get_ambig_fnames" title="Link to this definition"></a></dt>
<dd><p>Get the correct ambiguous restraint names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prev_ambig_fnames</strong> (<em>list</em>) – list of ambig_fname files encoded in previous models</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ambig_fnames</strong> (<em>list or None</em>) – list of ambig_fname files to be used by the CNS module</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.last_step_folder">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">last_step_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">folders</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.last_step_folder" title="Link to this definition"></a></dt>
<dd><p>Retrieve last step folder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.log">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'info'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.log" title="Link to this definition"></a></dt>
<dd><p>Log a message with a common header.</p>
<p>Currently the header is the [MODULE NAME] in square brackets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<em>str</em>) – The log message.</p></li>
<li><p><strong>level</strong> (<em>str</em>) – The level log: ‘debug’, ‘info’, …
Defaults to ‘info’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.make_self_contained">
<span class="sig-name descname"><span class="pre">make_self_contained</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules/base_cns_module.html#BaseCNSModule.make_self_contained"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.make_self_contained" title="Link to this definition"></a></dt>
<dd><p>Create folders to make run self-contained.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.params" title="Link to this definition"></a></dt>
<dd><p>Configuration parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.previous_path">
<span class="sig-name descname"><span class="pre">previous_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.previous_path" title="Link to this definition"></a></dt>
<dd><p>Give the path from the previous calculation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.reset_params">
<span class="sig-name descname"><span class="pre">reset_params</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.reset_params" title="Link to this definition"></a></dt>
<dd><p>Reset parameters to the ones used to instantiate the class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules/base_cns_module.html#BaseCNSModule.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.run" title="Link to this definition"></a></dt>
<dd><p>Execute the module.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.save_config">
<span class="sig-name descname"><span class="pre">save_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.save_config" title="Link to this definition"></a></dt>
<dd><p>Save current parameters to a HADDOCK3 config file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.save_envvars">
<span class="sig-name descname"><span class="pre">save_envvars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'envvars'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/haddock/modules/base_cns_module.html#BaseCNSModule.save_envvars"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.save_envvars" title="Link to this definition"></a></dt>
<dd><p>Save envvars needed for CNS to a file in the module’s folder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="haddock.modules.base_cns_module.BaseCNSModule.update_params">
<span class="sig-name descname"><span class="pre">update_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">update_from_cfg_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.13)"><span class="pre">Path</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.13)"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.13)"><span class="pre">None</span></a></span></span><a class="headerlink" href="#haddock.modules.base_cns_module.BaseCNSModule.update_params" title="Link to this definition"></a></dt>
<dd><p>Update the modules parameters.</p>
<p>Add/update to the current modules parameters the ones given in
the function call. If you want to enterily replace the modules
parameters to their default values use the <cite>reset_params()</cite>
method.</p>
<p>Update takes places recursively, that is, nested dictionaries
will be updated accordingly.</p>
<p>To update the current config with the parameters defined in an
HADDOCK3 configuration file use the <cite>update_from_cfg_file</cite>
parameter.</p>
<p>To update from a JSON file, first load the JSON into a
dictionary and unpack the dictionary to the function call.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">update_params</span><span class="p">(</span><span class="n">param1</span><span class="o">=</span><span class="n">value1</span><span class="p">,</span> <span class="n">param2</span><span class="o">=</span><span class="n">value2</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">update_params</span><span class="p">(</span><span class="o">**</span><span class="n">param_dict</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">update_params</span><span class="p">(</span><span class="n">update_from_cfg_file</span><span class="o">=</span><span class="n">path_to_file</span><span class="p">)</span>
</pre></div>
</div>
<p># if you wish to start from scratch
&gt;&gt;&gt; m.reset_params()
&gt;&gt;&gt; m.update_params(…)</p>
</dd></dl>

</dd></dl>

</section>
<section id="general-default-parameters">
<h2>General Default parameters<a class="headerlink" href="#general-default-parameters" title="Link to this heading"></a></h2>
<p>General default parameters can be defined in the main section of the
configuration file, but can also be defined for each individual module (step).
In the later case, overriding the general definition.</p>
<section id="easy">
<h3>Easy<a class="headerlink" href="#easy" title="Link to this heading"></a></h3>
<section id="batch-type">
<h4>batch_type<a class="headerlink" href="#batch-type" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: ‘slurm’</div>
<div class="line"><em>type</em>: string</div>
<div class="line"><em>title</em>: Batch system</div>
<div class="line"><em>choices</em>: [‘slurm’, ‘torque’]</div>
<div class="line"><em>short description</em>: Type of batch system running on your server</div>
<div class="line"><em>long description</em>: Type of batch system running on your server. Only slurm and torque are supported at this time</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="clean">
<h4>clean<a class="headerlink" href="#clean" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: True</div>
<div class="line"><em>type</em>: boolean</div>
<div class="line"><em>title</em>: Clean the module output files.</div>
<div class="line"><em>short description</em>: Clean the module if run succeeds by compressing or removing output files.</div>
<div class="line"><em>long description</em>: When running haddock through the command-line, the ‘clean’ parameter will instruct the workflow to clean the output files of the module if the whole run succeeds. In this process, PDB and PSF files are compressed to gzip, with the extension <cite>.gz</cite>. While files with extension <cite>.seed</cite>, <cite>.inp</cite>, and <cite>.out</cite> files are archived, and the original files deleted. The time to perform a cleaning operation depends on the number of files in the folders and the size of the files. However, it should not represent a limit step in the workflow. For example, a rigidbody sampling 10,000 structures takes about 4 minutes in our servers. This operation uses as many cores as allowed by the user in the ‘ncores’ parameter. SSD disks will perform faster by definition. See also the ‘haddock3-clean’ and ‘haddock3-unpack’ command-line clients.</div>
<div class="line"><em>group</em>: clean</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="cns-exec">
<h4>cns_exec<a class="headerlink" href="#cns-exec" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: ‘’</div>
<div class="line"><em>type</em>: file</div>
<div class="line"><em>title</em>: Path to the CNS executable</div>
<div class="line"><em>short description</em>: If not provided, HADDOCK3 will use the cns path configured during the installation.</div>
<div class="line"><em>long description</em>: CNS is a required component to run HADDOCK. Ideally it should have been configured during installation. If not you can specify with the cns_exec parameter its path.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="concat">
<h4>concat<a class="headerlink" href="#concat" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: 1</div>
<div class="line"><em>type</em>: integer</div>
<div class="line"><em>title</em>: Number of models to produce per job.</div>
<div class="line"><em>min</em>: 1</div>
<div class="line"><em>max</em>: 9999</div>
<div class="line"><em>short description</em>: Multiple models can be calculated within one job</div>
<div class="line"><em>long description</em>: This defines the number of models that will be generated within on job script. This allows to concatenate the generation of models into one script. In that way jobs might run longer in the batch system and reduce the load on the scheduler.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="debug">
<h4>debug<a class="headerlink" href="#debug" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: False</div>
<div class="line"><em>type</em>: boolean</div>
<div class="line"><em>title</em>: Write intermediate and stdout files.</div>
<div class="line"><em>short description</em>: Write intermediate and stdout files.</div>
<div class="line"><em>long description</em>: When set to true, this option will increase the amount of I/O operations by writing intermediate input, output and error files on disk. Turning it to false can be useful for example when running on a network file system where I/O operations are slow.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="mode">
<h4>mode<a class="headerlink" href="#mode" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: ‘local’</div>
<div class="line"><em>type</em>: string</div>
<div class="line"><em>title</em>: Mode of execution</div>
<div class="line"><em>choices</em>: [‘local’, ‘batch’]</div>
<div class="line"><em>short description</em>: Mode of execution of the jobs, either local or using a batch system.</div>
<div class="line"><em>long description</em>: Mode of execution of the jobs, either local or using a batch system. Currently slurm and torque are supported. For the batch mode the queue command must be specified in the queue parameter.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="ncores">
<h4>ncores<a class="headerlink" href="#ncores" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: 4</div>
<div class="line"><em>type</em>: integer</div>
<div class="line"><em>title</em>: Number of CPU cores</div>
<div class="line"><em>min</em>: 1</div>
<div class="line"><em>max</em>: 500</div>
<div class="line"><em>short description</em>: Number of CPU cores to use for the CNS calculations. It is truncated to max available CPUs  minus 1.</div>
<div class="line"><em>long description</em>: Number of CPU cores to use for the CNS calculations. This will define the number of concurrent jobs being executed. Note that is truncated to the total number of available CPUs minus 1.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="offline">
<h4>offline<a class="headerlink" href="#offline" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: False</div>
<div class="line"><em>type</em>: boolean</div>
<div class="line"><em>title</em>: Isolate haddock3 from internet.</div>
<div class="line"><em>short description</em>: Completely isolate the haddock3 run &amp; results from internet.</div>
<div class="line"><em>long description</em>: For interactive plots, we are using the plotly library. It can be embedded as a link to the plotly.js library and fetched from the web, or directly copied on the html files AT THE COST OF ~3Mb per file. Setting this parameter to <cite>true</cite> will add the javascript library in generated files, therefore completely isolating haddock3 from any web call.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="queue">
<h4>queue<a class="headerlink" href="#queue" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: ‘’</div>
<div class="line"><em>type</em>: string</div>
<div class="line"><em>title</em>: Queue name</div>
<div class="line"><em>short description</em>: Name of the batch queue to which jobs will be submitted</div>
<div class="line"><em>long description</em>: Name of the batch queue to which jobs will be submitted. If not defined the batch system default will be used.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
<section id="queue-limit">
<h4>queue_limit<a class="headerlink" href="#queue-limit" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: 100</div>
<div class="line"><em>type</em>: integer</div>
<div class="line"><em>title</em>: Number of jobs to submit to the batch system</div>
<div class="line"><em>min</em>: 1</div>
<div class="line"><em>max</em>: 9999</div>
<div class="line"><em>short description</em>: Number of jobs to submit to the batch system</div>
<div class="line"><em>long description</em>: This parameter controls the number of jobs that will be submitted to the batch system. In combination with the concat parameter this allow to limit the load on the queueing system and also make sure jobs remain in the queue for some time (if concat &gt; 1) to avoid high system loads on the batch system.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: easy</div>
</div>
</section>
</section>
<section id="expert">
<h3>Expert<a class="headerlink" href="#expert" title="Link to this heading"></a></h3>
<section id="max-cpus">
<h4>max_cpus<a class="headerlink" href="#max-cpus" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: True</div>
<div class="line"><em>type</em>: boolean</div>
<div class="line"><em>title</em>: The max number of CPUs allowed.</div>
<div class="line"><em>short description</em>: By default the max number of CPUs allowed is the max available on the system.</div>
<div class="line"><em>long description</em>: If you want to spare a minimum amount of resources for daily tasks, set max_cpus to false; in that case the maximum number of CPUs allowed will be the total available in the machine minus 1. This calculation is done automatically.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: expert</div>
</div>
</section>
</section>
<section id="guru">
<h3>Guru<a class="headerlink" href="#guru" title="Link to this heading"></a></h3>
<section id="self-contained">
<h4>self_contained<a class="headerlink" href="#self-contained" title="Link to this heading"></a></h4>
<div class="line-block">
<div class="line"><em>default</em>: False</div>
<div class="line"><em>type</em>: boolean</div>
<div class="line"><em>title</em>: Create a self-contained run</div>
<div class="line"><em>short description</em>: This option will copy the CNS scripts and executable to the run folder.</div>
<div class="line"><em>long description</em>: This option will copy the CNS scripts and executable to the run folder to ensure that all scripts are available within the run dir. This can be useful for for example remote execution of a job or for debugging purpose to allow to edit the scripts without touching the main installation.</div>
<div class="line"><em>group</em>: execution</div>
<div class="line"><em>explevel</em>: guru</div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../clients/haddock.clis.wrapper_haddock_restraints.html" class="btn btn-neutral float-left" title="haddock.clis.wrapper_haddock_restraints module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="topology/index.html" class="btn btn-neutral float-right" title="Topology Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, BonvinLab.
      <span class="lastupdated">Last updated on Oct 03, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>